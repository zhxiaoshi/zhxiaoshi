<div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://images.unsplash.com/photo-1598213993464-40c4c6f4158b?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=2089&amp;q=80 " alt="Log transform with O"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-10-07T10:34:10.000Z" title="2018/10/7 下午6:34:10">2018-10-07</time>发表</span><span class="level-item"><time dateTime="2021-06-20T17:09:18.955Z" title="2021/6/21 上午1:09:18">2021-06-21</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Study/">Study</a></span><span class="level-item">3 分钟读完 (大约406个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Log transform with O</h1><div class="content"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p> Variables log-transform is a common method to obtain the elasticities or a requirement such as estimating a Cobb-Douglas or translog form production function. However, when we encounter the zero-valued observation, what should we do? Because log(0) is undefined.</p>
 <span id="more"></span>

<p>A method that Macurdy and Pencavel (1986) introduced in their JPE paper is using log(x+1), log(x+0.001) or some variant thereof. It has long been the workhorse way to deal with those wayward zero-valued observations.</p>
<p>Someone may also ignore the presence of zero-valued observation by using the log(x), and let the chips fall where they may, meaning that you just drop those observation for which x=0. Apparently, if x is assigned experimentally, there is no harm in doing that. But in most cases, x will not be as good as random, which means that merely dropping those observation for which x=0 will introduce selection in you sample, which limits the external validity of our findings. </p>
<p>In addition, in some cases, it is unnecessary to use the log-transform, you can certainly use the x. Presumably, this is not an option if you are here reading this post.</p>
<p>Recently, <a target="_blank" rel="noopener" href="http://marcfbellemare.com/wordpress/wp-content/uploads/2018/09/BellemareWichmanIHSSeptember2018.pdf">Bellemare and Wichman (2018)</a> introduced a new and improved version, i.e. Inverse Hyperbolic Sine transformation <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_sine">(IHS)</a>. The IHS transformation of x-formally denoted arsinh x, but usually denote it IHS(x) is such that:</p>
<p>$$IHS(X)=ln(x+\sqrt{x^2+1})$$</p>
<p>The beauty of the IHS transformation is that:</p>
<ol>
<li>It behaves similar to log</li>
<li>It allows retaining zero-valued observations</li>
<li>It even allows retaining negative-valued observations. In <a target="_blank" rel="noopener" href="https://academic.oup.com/ajae/article-abstract/95/4/877/93643">Bellemare et al.  (2013)</a>, for example, when they regressed marketable surplus (production minus consumption; this can take negative, zero, or positive values) on a number of variables, and found that the IHS transformation came in handy.</li>
</ol>
<p>For more about the IHS transformation itself, see <a target="_blank" rel="noopener" href="http://www.jstor.org/stable/2288929">Burbidge et al. (JASA, 1988)</a> and <a target="_blank" rel="noopener" href="http://www.jstor.org/stable/2526842">MacKinnon and Magee (IER, 1990)</a>. For applications, see <a target="_blank" rel="noopener" href="https://academic.oup.com/ajae/article-abstract/75/4/1056/59823">Moss ans Shonkwiler (AJAE, 1993)</a>, <a target="_blank" rel="noopener" href="http://www.jstor.org/stable/pdf/1243958.pdf">Yen and Jones (AJAE, 1997)</a>,  <a target="_blank" rel="noopener" href="https://www.degruyter.com/view/j/bejeap.2005.5.issue-1/bejeap.2006.5.1.1430/bejeap.2006.5.1.1430.xml">Pence (beJEAP, 2006)</a>, and the aforementioned <a target="_blank" rel="noopener" href="https://academic.oup.com/ajae/article-abstract/95/4/877/93643">Bellemare et al. (AJAE, 2013)</a>.</p>
<p>Reference:</p>
<p>[1] <a target="_blank" rel="noopener" href="http://marcfbellemare.com/wordpress/12856">http://marcfbellemare.com/wordpress/12856</a></p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Stata/">Stata</a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share"></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/qr-alipay.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/qr-wechat.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/6a7c.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Engines of Liberation</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/d639.html"><span class="level-item">文献管理软件</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread' ,
            appId: "8zBTgTjmVw4qEoSSiaN1MCdy-MdYXbMMI",
            appKey: "phllF76VFRUx8cQwsHGmaWFu",
            placeholder: "请留下邮箱以便回复您时，您可以收到邮件通知。",
            avatar: "retro",
            
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            
            highlight: true,
            
            
            
            
            
            requiredFields: [],
        });</script></div></div>